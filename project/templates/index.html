<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict Your Calories Burned</title>

    <!-- CSS desde carpeta STATIC -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

    <!-- Fuente -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
</head>

<body>

    <div class="hero" id="hero">
        <div class="badge">Powered by AI</div>

        <h1 class="title">Predict Your</h1>
        <h1 class="subtitle">Calories Burned</h1>

        <p class="description">
            Use advanced machine learning to get accurate calorie burn estimates 
            based on your personal metrics and workout intensity.
        </p>
    </div>

    <div class="container">

    <!-- Left column: user input -->
    <div class="card form-card">

        <h2>Your Details</h2>

        <form action="/predict#prediction-card" method="POST">

            <select name="sex">
                <option value="Male"   {% if sex == "Male" %}selected{% endif %}>Male</option>
                <option value="Female" {% if sex == "Female" %}selected{% endif %}>Female</option>
            </select>

            <label>Age (years)</label>
            <input type="number" name="age" value="{{ age if age is defined else '' }}" required>


            <label>Height (cm)</label>
            <input type="number" name="height" value="{{ height if height is defined else '' }}" required>

            <label>Weight (kg)</label>
            <input type="number" name="weight" value="{{ weight if weight is defined else '' }}" required>

            <label>Workout Duration (minutes)</label>
            <input type="number" name="duration" value="{{ duration if duration is defined else '' }}" required>

            <label>Heart rate (bpm)</label>
            <input type="number" name="heart_rate" value="{{ heart_rate if heart_rate is defined else '' }}" required>

            <label>Temperature (¬∞C)</label>
            <input type="number" name="temperature" value="{{ temperature if temperature is defined else '' }}" required>

            <button type="submit" class="predict-btn">Predict</button>
        </form>
    </div>

    <!-- Right column: prediction results -->
    <div class="right-column" id = "right-column">

        <!-- Prediction card -->
        <div class="card prediction-card" id="prediction-card">
            <h3>Predicted Calories Burned</h3>
            <div class="calories-number">
                {{ prediction if prediction else "--" }}
            </div>
            <span class="kcal">kcal</span>
        </div>

        <!-- Confidence card -->
        <div class="card confidence-card">
            <h3>Prediction Confidence</h3>

            <div class="bar-container">
                <div class="bar-fill" style="width: {{ confidence if confidence else 0 }}%;"></div>
            </div>

            <div class="confidence-label">
                {{ confidence if confidence else "--" }}% confidence
            </div>
        </div>

        <!-- Tips card -->
        <div class="card tips-card">
            <h3>Personalized Tips</h3>

            <ul>
                <li>üî• Excellent high-intensity session</li>
                <li>üèÜ You're crushing your goals</li>
                <li>üíß Stay hydrated</li>
                <li>‚è± Track your weekly averages</li>
            </ul>
        </div>

    </div>

    <script>
        {% if prediction %}
            setTimeout(function() {
                const target = document.querySelector(".prediction-card");
                if (target) {
                    target.scrollIntoView({
                        behavior: "smooth",
                        block: "start"
                    });
                }
            }, 100);
        {% endif %}
    </script>

</body>
</html>
